import { WeaviateClient } from "weaviate-client";
import { QueryAgentResponse, ProgressMessage, StreamedTokens, AskModeResponse } from "./response/response.js";
import { QueryAgentCollection, QueryAgentCollectionConfig } from "./collection.js";
import { SearchModeResponse } from "./response/response.js";
/**
 * An agent for executing agentic queries against Weaviate.
 * For more information, see the [Weaviate Query Agent Docs](https://weaviate.io/developers/agents/query)
 */
export declare class QueryAgent {
    private client;
    private collections?;
    private systemPrompt?;
    private agentsHost;
    /**
     * Creates a new QueryAgent instance.
     *
     * @param client - The Weaviate client instance.
     * @param options - Additional options for the QueryAgent.
     */
    constructor(client: WeaviateClient, { collections, systemPrompt, agentsHost, }?: QueryAgentOptions);
    /**
     * Run the query agent.
     *
     * @deprecated Use {@link ask} instead.
     * @param query - The natural language query string for the agent.
     * @param options - Additional options for the run.
     * @returns The response from the query agent.
     */
    run(query: string, { collections, context }?: QueryAgentRunOptions): Promise<QueryAgentResponse>;
    /**
     * Ask query agent a question.
     *
     * @param query - The natural language query string or conversation context for the agent.
     * @param options - Additional options for the run.
     * @returns The response from the query agent.
     */
    ask(query: QueryAgentQuery, { collections }?: QueryAgentAskOptions): Promise<AskModeResponse>;
    /**
     * Stream responses from the query agent.
     *
     * @deprecated Use {@link askStream} instead.
     * @param query - The natural language query string for the agent.
     * @param options - Additional options for the run.
     * @returns The response from the query agent.
     */
    stream(query: string, options: QueryAgentStreamOptions & {
        includeProgress: false;
        includeFinalState: false;
    }): AsyncGenerator<StreamedTokens>;
    /** @deprecated Use {@link askStream} instead. */
    stream(query: string, options: QueryAgentStreamOptions & {
        includeProgress: false;
        includeFinalState?: true;
    }): AsyncGenerator<StreamedTokens | QueryAgentResponse>;
    /** @deprecated Use {@link askStream} instead. */
    stream(query: string, options: QueryAgentStreamOptions & {
        includeProgress?: true;
        includeFinalState: false;
    }): AsyncGenerator<ProgressMessage | StreamedTokens>;
    /** @deprecated Use {@link askStream} instead. */
    stream(query: string, options?: QueryAgentStreamOptions & {
        includeProgress?: true;
        includeFinalState?: true;
    }): AsyncGenerator<ProgressMessage | StreamedTokens | QueryAgentResponse>;
    /**
     * Ask query agent a question and stream the response.
     *
     * @param query - The natural language query string or conversation context for the agent.
     * @param options - Additional options for the run.
     * @returns The response from the query agent.
     */
    askStream(query: QueryAgentQuery, options: QueryAgentAskStreamOptions & {
        includeProgress: false;
        includeFinalState: false;
    }): AsyncGenerator<StreamedTokens>;
    askStream(query: QueryAgentQuery, options: QueryAgentAskStreamOptions & {
        includeProgress: false;
        includeFinalState?: true;
    }): AsyncGenerator<StreamedTokens | AskModeResponse>;
    askStream(query: QueryAgentQuery, options: QueryAgentAskStreamOptions & {
        includeProgress?: true;
        includeFinalState: false;
    }): AsyncGenerator<ProgressMessage | StreamedTokens>;
    askStream(query: QueryAgentQuery, options?: QueryAgentAskStreamOptions & {
        includeProgress?: true;
        includeFinalState?: true;
    }): AsyncGenerator<ProgressMessage | StreamedTokens | AskModeResponse>;
    /**
     * Run the Query Agent search-only mode.
     *
     * Sends the initial search request and returns the first page of results.
     * The returned response includes a `next` method for pagination which
     * reuses the same underlying searches to ensure consistency across pages.
     */
    search(query: QueryAgentQuery, { limit, collections }?: QueryAgentSearchOnlyOptions): Promise<SearchModeResponse>;
    private validateCollections;
}
/** Options for the QueryAgent. */
export type QueryAgentOptions = {
    /** List of collections to query. Will be overriden if passed in the `run` method. */
    collections?: QueryAgentCollection[];
    /** System prompt to guide the agent's behavior. */
    systemPrompt?: string;
    /** Host of the agents service. */
    agentsHost?: string;
};
export type QueryAgentQuery = string | ChatMessage[];
export type ChatMessage = {
    role: "user" | "assistant";
    content: string;
};
/** Options for the QueryAgent run. */
export type QueryAgentRunOptions = {
    /** List of collections to query. Will override any collections if passed in the constructor. */
    collections?: (string | QueryAgentCollectionConfig)[];
    /** Previous response from the agent. */
    context?: QueryAgentResponse;
};
/** Options for the QueryAgent ask. */
export type QueryAgentAskOptions = {
    /** List of collections to query. Will override any collections if passed in the constructor. */
    collections?: (string | QueryAgentCollectionConfig)[];
};
/** Options for the QueryAgent stream. */
export type QueryAgentStreamOptions = {
    /** List of collections to query. Will override any collections if passed in the constructor. */
    collections?: (string | QueryAgentCollectionConfig)[];
    /** Previous response from the agent. */
    context?: QueryAgentResponse;
    /** Include progress messages in the stream. */
    includeProgress?: boolean;
    /** Include final state in the stream. */
    includeFinalState?: boolean;
};
/** Options for the QueryAgent askStream. */
export type QueryAgentAskStreamOptions = {
    /** List of collections to query. Will override any collections if passed in the constructor. */
    collections?: (string | QueryAgentCollectionConfig)[];
    /** Include progress messages in the stream. */
    includeProgress?: boolean;
    /** Include final state in the stream. */
    includeFinalState?: boolean;
};
/** Options for the QueryAgent search-only run. */
export type QueryAgentSearchOnlyOptions = {
    /** The maximum number of results to return. */
    limit?: number;
    /** List of collections to query. Will override any collections if passed in the constructor. */
    collections?: (string | QueryAgentCollectionConfig)[];
};
